<%= javascript_pack_tag 'forms' %>

<div class="col-sm-12 col-md-10 col-lg-8 my-3 p-5 mx-auto">
  <div class="ml-4"><%= render "layouts/errors", object: @field %></div>

  <%= form_with model: @field do |f| %>
  <h5>畑編集</h5>

    <div class="row">
      <div class="col" id="add_field_section">
        畑名<span style="color: red;">*</span>
        <%= f.text_field :name, class: "form-control mb-3", placeholder: "＊＊市A畑" %>
        住所
        <%= f.text_field :address, class: "form-control mb-3", placeholder: "＊＊市＊＊区＊＊町＊ー＊" %>
        面積
        <%= f.text_field :area, class: "form-control mb-3", placeholder: "＊＊ha" %>
      </div>
    </div>

    <%= f.fields_for :field_sections do |fs| %>
    <div class="row nested-fields">
      <div class="col-10">
        区画名<span style="color: red;">* 最低一区画必須</span>
        <%= fs.text_field :name, class: "form-control mb-3", placeholder: "A区画またはA畝" %>
        <%= fs.hidden_field :_destroy, class: 'destroy-field' %>
      </div>
      <div class="col-2 d-flex align-items-center mt-4">
        <%= link_to "#", class: "remove_field btn btn-danger mb-3" do %>
          <i class="fa-solid fa-trash" style="color: #ffffff;"></i>
        <% end %>
      </div>
    </div>
    <% end %>

    <div class="row">
      <div class="col text-center">
        <div id="wrapper"></div>
        <%= link_to '+', '#', id: 'add_button', class: "btn btn-outline-dark rounded-circle mt-3 ml-auto shadow" %>
      </div>
    </div>

    <div class="row">
      <div class="col text-center my-3">
        <%= f.submit '更新', class: 'btn btn-form mx-auto px-4', style: "background-color: #D7C748; color: #FFF;" %>
      </div>
    </div>
  <% end %>
</div>
